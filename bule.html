<html>
  <head>
  <script>
	function onButtonClick() {
	  navigator.bluetooth.requestDevice({ filters: [{ services: ['battery_service'] }] })
.then(device => { /* ... */ }).catch(error => { console.log(error); });

	  let filters = [];

	  let filterService = document.querySelector('#service').value;
	  if (filterService.startsWith('0x')) {
	    filterService = parseInt(filterService);
	  }
	  if (filterService) {
	    filters.push({services: [filterService]});
	  }
	  let filterName = document.querySelector('#name').value;
	  if (filterName) {
	    filters.push({name: filterName});
	  }
	  let filterNamePrefix = document.querySelector('#namePrefix').value;
	  if (filterNamePrefix) {
	    filters.push({namePrefix: filterNamePrefix});
	  }
	  log('Requesting Bluetooth Device...');
	  navigator.bluetooth.requestDevice({filters: filters})
	  .then(device => {
	    log('> Name:             ' + device.name);
	    log('> Id:               ' + device.id);
	    log('> Connected:        ' + device.gatt.connected);
	  })
	  .catch(error => {
	    log('Argh! ' + error);
	  });
	}
  </script>
  </head>
	<form>
	  <input id="service" type="text" list="services" autofocus placeholder="Bluetooth Service">
	  <input id="name" type="text" placeholder="Device Name">
	  <input id="namePrefix" type="text" placeholder="Device Name Prefix">
	  <button onclick="onButtonClick()">Get Bluetooth Device Info</button>
	</form>
</html>
